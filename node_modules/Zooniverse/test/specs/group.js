// Generated by CoffeeScript 1.3.3
(function() {
  var Api, GalaxyZooSubject, GalaxyZooSurveyGroup, Group, Subject,
    __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

  Api = require('./api');

  Subject = require('./models/subject');

  Group = require('./models/group');

  GalaxyZooSubject = (function(_super) {

    __extends(GalaxyZooSubject, _super);

    function GalaxyZooSubject() {
      return GalaxyZooSubject.__super__.constructor.apply(this, arguments);
    }

    GalaxyZooSubject.configure('GalaxyZooSubject', 'coords', 'location', 'metadata', 'zooniverse_id');

    GalaxyZooSubject.prototype.projectName = 'galaxy_zoo';

    return GalaxyZooSubject;

  })(Subject);

  GalaxyZooSurveyGroup = (function(_super) {

    __extends(GalaxyZooSurveyGroup, _super);

    function GalaxyZooSurveyGroup() {
      return GalaxyZooSurveyGroup.__super__.constructor.apply(this, arguments);
    }

    GalaxyZooSurveyGroup.configure('GalaxyZooSurveyGroup', 'name', 'categories', 'metadata', 'zooniverse_id', 'stats');

    GalaxyZooSurveyGroup.prototype.projectName = 'galaxy_zoo';

    GalaxyZooSurveyGroup.prototype.type = 'survey';

    return GalaxyZooSurveyGroup;

  })(Group);

  describe('Group', function() {
    beforeEach(function() {
      return Api.init();
    });
    afterEach(function() {
      return GalaxyZooSurveyGroup.destroyAll();
    });
    describe('index', function() {
      it('should fetch', function() {
        var fetched;
        fetched = false;
        GalaxyZooSurveyGroup.index().always(function() {
          return fetched = true;
        });
        waitsFor(function() {
          return fetched;
        });
        return runs(function() {
          return expect(GalaxyZooSurveyGroup.count()).toBe(2);
        });
      });
      return it('should paginate', function() {
        var fetched;
        fetched = false;
        GalaxyZooSurveyGroup.index({
          page: 1,
          per_page: 1
        }).always(function() {
          return fetched = true;
        });
        waitsFor(function() {
          return fetched;
        });
        return runs(function() {
          expect(GalaxyZooSurveyGroup.count()).toBe(1);
          return expect(GalaxyZooSurveyGroup.first().name).toBe('CANDELS');
        });
      });
    });
    return describe('show', function() {
      return it('should find the group', function() {
        var fetched;
        fetched = false;
        GalaxyZooSurveyGroup.show('50217561516bcb0fda00000d').always(function() {
          return fetched = true;
        });
        waitsFor(function() {
          return fetched;
        });
        return runs(function() {
          expect(GalaxyZooSurveyGroup.count()).toBe(1);
          return expect(GalaxyZooSurveyGroup.first().id).toBe('50217561516bcb0fda00000d');
        });
      });
    });
  });

}).call(this);
